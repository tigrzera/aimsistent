<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AimSistent</title>
    <link rel="icon" type="image/png" href="aimsistentfavicon.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div id="mediaSequence" class="fullscreen-media">
        <video id="vidIntro" autoplay muted playsinline src="AimSistentIntro.mp4"></video>
        <img id="imgIdle" src="AimSistent (4).png" style="display: none;">
        <video id="vidOutro" src="AimSistentOutro.mp4" style="display: none;"></video>
    </div>

    <div id="titleScreen" class="full-screen-menu" style="display: none;">
        <button id="mainPlayBtn" class="big-btn">PLAY</button>
    </div>

    <div id="setupScreen" class="full-screen-menu" style="display: none;">
        <div class="menu-panel">
            <img src="aimsistenttextlogo.png" class="menu-logo" alt="AimSistent">
            
            <div class="tutorial-container">
                <div class="tutorial-header">
                    <span>üéØ</span>
                    <h3>How to Play</h3>
                </div>
                <ul class="tutorial-list">
                    <li>Choose Mode: <strong>Dynamic</strong> (moving) or <strong>Static</strong> (still)</li>
                    <li>Time Limit: <strong>Standard</strong> (60s) or <strong>Quick Play</strong> (30s)</li>
                    <li><strong>Click targets</strong> to score points</li>
                    <li>Start with <strong>1x Multiplier</strong></li>
                    <li><strong>Streak of 5 hits</strong> increases Multiplier by +1</li>
                    <li><strong>Misses</strong> reset Combo & Multiplier to 1x</li>
                    <li>Score high before <strong>time runs out</strong>!</li>
                </ul>
            </div>
            
            <div class="menu-buttons-row">
                <button id="btnOpenSettingsFromSetup" class="secondary-btn">Check Settings</button>
                <button id="btnGoToModes" class="primary-btn">Next</button>
            </div>
        </div>
    </div>

    <div id="modeSelectScreen" class="full-screen-menu" style="display: none;">
        <div class="menu-panel">
            <h2>SELECT MODE</h2>
            
            <div class="stats-grid">
                <button id="btnDynamic" class="mode-card">
                    <h3>DYNAMIC</h3>
                    <p>Moving Targets</p>
                </button>

                <button id="btnStatic" class="mode-card selected-mode">
                    <h3>STATIC</h3>
                    <p>Stationary Targets</p>
                </button>

                <button id="btnTimeToggle" class="mode-card purple-card">
                    <h3 id="timeTitle">‚è±Ô∏è STANDARD</h3>
                    <p id="timeDesc">Time: 60s</p>
                </button>
            </div>
            
            <button id="btnStartGame">START GAME</button>
            
            <div class="menu-buttons-row">
                <button id="modeSettingsBtn" class="secondary-btn">Settings</button>
                <button id="backToSetupBtn" class="secondary-btn">Back</button>
            </div>
        </div>
    </div>

    <div id="gameContainer" style="display: none;">
        <div id="canvasWrapper">
            <div id="gameHeader">
                <img src="aimsistenttextlogo.png" id="gameLogo" alt="AimSistent">
                
                <div id="ui">
                    <div id="scoreBox" class="in-game-ui">
                        <span class="stat-label">SCORE</span>
                        <span class="stat-value" id="score">0</span>
                    </div>
                    
                    <div id="comboBox" class="in-game-ui">
                        <span class="stat-label">COMBO</span>
                        <span class="stat-value" id="combo">0</span>
                    </div>

                    <div id="multiplierBox" class="in-game-ui">
                        <span class="stat-label">MULTIPLIER</span>
                        <span class="stat-value" id="multiplier">1x</span>
                    </div>
                    
                    <div id="timerBox" class="in-game-ui">
                        <span class="stat-label">TIME</span>
                        <span class="stat-value" id="timer">60</span>
                    </div>
                </div>
            </div>

            <canvas id="gameCanvas" width="800" height="600"></canvas>
            
            <div id="timeProgressContainer">
                <div id="timeProgressBar"></div>
            </div>
        </div>
    </div>

    <div id="overlay" style="display: none;">
        <canvas id="confettiCanvas"></canvas>

        <div id="pauseMenu" class="menu-panel" style="display: none;">
            <h2>PAUSED</h2>
            <button id="resumeBtn" class="primary-btn">Resume</button>
            <button id="btnPauseRestart" class="secondary-btn">Restart</button> 
            <button id="settingsBtn" class="secondary-btn">Settings</button>
            <button id="quitBtn" class="secondary-btn">Exit to Menu</button>
        </div>

        <div id="settingsMenu" class="menu-panel" style="display: none;">
            <h2>SETTINGS</h2>
            
            <div class="setting-row">
                <label>Keyboard Shooting (Z/X)</label>
                <input type="checkbox" id="osuToggle">
            </div>

            <div class="setting-row">
                <label>Break Animations</label>
                <input type="checkbox" id="breakAnimToggle" checked>
            </div>

            <div class="setting-row">
                <label>Target Color</label>
                <input type="color" id="colorPicker" value="#ff0000">
            </div>

            <div class="setting-row">
                <label>Hit Sound</label>
                <select id="soundPicker" style="padding: 5px; border-radius: 5px; border: none; cursor: pointer; background: #333; color: white;">
                    <option value="bubble">Pop</option>
                    <option value="shoot">Knock</option>
                </select>
            </div>

            <button id="backBtn" class="primary-btn" style="margin-top: 20px;">Back</button>
        </div>

        <div id="taskCompleteMenu" class="menu-panel" style="display: none;">
            <h2>TASK COMPLETED</h2>
            
            <div class="stats-grid">
                <div class="in-game-ui">
                    <span class="stat-label">SCORE</span>
                    <span class="stat-value" id="finalScore">0</span>
                </div>
                <div class="in-game-ui">
                    <span class="stat-label">MAX COMBO</span>
                    <span class="stat-value" id="finalCombo">0</span>
                </div>
                <div class="in-game-ui">
                    <span class="stat-label">ACCURACY</span>
                    <span class="stat-value" id="finalAccuracy">100%</span>
                </div>
            </div>

            <div class="menu-buttons-row">
                <button id="btnTaskRetry" class="primary-btn">Play Again</button>
                <button id="btnTaskSettings" class="secondary-btn">Settings</button>
                <button id="btnTaskMode" class="secondary-btn">Menu</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
